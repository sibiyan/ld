{"ast":null,"code":"var _jsxFileName = \"/Users/swalihvpm/Desktop/django-react/django-react-ecommerce/src/components/OrderSummary/checkout-item.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { authAxios } from \"../../utils\";\nimport { addToCartURL, orderSummaryURL, orderItemDeleteURL, orderItemUpdateQuantityURL } from \"../../constants\";\nimport { CheckoutItemContainer, ImageContainer, TextContainer, QuantityContainer, RemoveButtonContainer } from \"./checkout.styles\";\n\nclass CheckoutItem extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      error: null\n    };\n\n    this.handleRemoveQuantityFromCart = slug => {\n      authAxios.post(orderItemUpdateQuantityURL, {\n        slug\n      }).then(res => {\n        this.handleFetchOrder();\n      }).catch(err => {\n        this.setState({\n          error: err\n        });\n      });\n    };\n\n    this.handleAddToCart = (id, shop, place) => {\n      this.setState({\n        loading: true\n      });\n      const {\n        formData\n      } = this.state;\n      const variations = this.handleFormatData(formData);\n      authAxios.post(addToCartURL, {\n        place,\n        shop,\n        id,\n        variations\n      }).then(res => {\n        this.props.refreshCart();\n        this.setState({\n          loading: false\n        });\n        this.check(authAxios);\n      }).catch(err => {\n        this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n\n    this.handleRemoveItem = itemID => {\n      authAxios.delete(orderItemDeleteURL(itemID)).then(res => {\n        this.handleFetchOrder();\n      }).catch(err => {\n        this.setState({\n          error: err\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      order_item\n    } = this.props;\n    return /*#__PURE__*/React.createElement(CheckoutItemContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TextContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, order_item.item.title), /*#__PURE__*/React.createElement(QuantityContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.handleRemoveItem(order_item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, \"\\u276E\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, order_item.quantity), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.handleAddToCart(order_item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, \"\\u276F\")), /*#__PURE__*/React.createElement(TextContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, order_item.final_price));\n  }\n\n}\n\nexport default CheckoutItem;","map":{"version":3,"sources":["/Users/swalihvpm/Desktop/django-react/django-react-ecommerce/src/components/OrderSummary/checkout-item.js"],"names":["React","connect","authAxios","addToCartURL","orderSummaryURL","orderItemDeleteURL","orderItemUpdateQuantityURL","CheckoutItemContainer","ImageContainer","TextContainer","QuantityContainer","RemoveButtonContainer","CheckoutItem","Component","state","loading","error","handleRemoveQuantityFromCart","slug","post","then","res","handleFetchOrder","catch","err","setState","handleAddToCart","id","shop","place","formData","variations","handleFormatData","props","refreshCart","check","handleRemoveItem","itemID","delete","render","order_item","item","title","quantity","final_price"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { authAxios } from \"../../utils\";\nimport {\n  addToCartURL,\n  orderSummaryURL,\n  orderItemDeleteURL,\n  orderItemUpdateQuantityURL\n} from \"../../constants\";\n\nimport {\n  CheckoutItemContainer,\n  ImageContainer,\n  TextContainer,\n  QuantityContainer,\n  RemoveButtonContainer\n} from \"./checkout.styles\";\n\nclass CheckoutItem extends React.Component {\n  state = {\n    loading: false,\n    error: null\n  };\n\n  handleRemoveQuantityFromCart = slug => {\n    authAxios\n      .post(orderItemUpdateQuantityURL, { slug })\n      .then(res => {\n        this.handleFetchOrder();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleAddToCart = (id, shop, place) => {\n    this.setState({ loading: true });\n    const { formData } = this.state;\n    const variations = this.handleFormatData(formData);\n    authAxios\n      .post(addToCartURL, { place, shop, id, variations })\n      .then(res => {\n        this.props.refreshCart();\n        this.setState({ loading: false });\n        this.check(authAxios);\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleRemoveItem = itemID => {\n    authAxios\n      .delete(orderItemDeleteURL(itemID))\n      .then(res => {\n        this.handleFetchOrder();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n  render() {\n    const { order_item } = this.props;\n    return (\n      <CheckoutItemContainer>\n        <TextContainer>{order_item.item.title}</TextContainer>\n        <QuantityContainer>\n          <div onClick={this.handleRemoveItem(order_item)}>&#10094;</div>\n          <span>{order_item.quantity}</span>\n          <div onClick={this.handleAddToCart(order_item)}>&#10095;</div>\n        </QuantityContainer>\n        <TextContainer>{order_item.final_price}</TextContainer>\n      </CheckoutItemContainer>\n    );\n  }\n}\n\nexport default CheckoutItem;\n"]},"metadata":{},"sourceType":"module"}