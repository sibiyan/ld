{"ast":null,"code":"var _jsxFileName = \"/Users/swalihvpm/Desktop/django-react/django-react-ecommerce/src/components/OrderSummary/OrderSummary.js\";\nimport React, { Component } from \"react\";\nimport { Button, Container, Dimmer, Divider, Form, Header, Image, Item, Label, Loader, Message, Segment, Select, Radio } from \"semantic-ui-react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\"; // import Table from \"@material-ui/core/Table\";\n// import TableHead from \"@material-ui/core/TableHead\";\n// import TableRow from \"@material-ui/core/TableRow\";\n\nimport CardHeader from \"@material-ui/core/CardHeader\"; // import TableBody from \"@material-ui/core/TableBody\";\n// import TableCell from \"@material-ui/core/TableCell\";\n\nimport purple from \"@material-ui/core/colors/purple\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport JssProvider from \"react-jss/lib/JssProvider\";\nimport { createGenerateClassName } from \"@material-ui/core/styles\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\"; // import Component from \"./Component\";\n\nimport { Link, withRouter } from \"react-router-dom\";\nimport { authAxios } from \"../../utils\";\nimport { checkoutURL, orderSummaryURL, addCouponURL, addressListURL } from \"../../constants\";\nconst muiBaseTheme = createMuiTheme();\nconst generateClassName = createGenerateClassName({\n  dangerouslyUseGlobalCSS: true\n}); // const StyledTableCell = withStyles(theme => ({\n//   head: {\n//     backgroundColor: theme.palette.common.black,\n//     color: theme.palette.common.white\n//   },\n//   body: {\n//     fontSize: 14\n//   }\n// }))(TableCell);\n// const StyledTableRow = withStyles(theme => ({\n//   root: {\n//     \"&:nth-of-type(odd)\": {\n//       backgroundColor: theme.palette.action.hover\n//     }\n//   }\n// }))(TableRow);\n// const useStyles = makeStyles(theme => ({\n//   root: {\n//     display: \"flex\"\n//   },\n//   table: {\n//     minWidth: 200\n//   },\n//   TopPadding: {\n//     padding: \"3px\",\n//     margin: \"1px\"\n//   }\n// }));\n\nconst offset = 40;\nconst cardShadow = \"0px 14px 80px rgba(34, 35, 58, 0.2)\";\nconst headerShadow = \"4px 4px 20px 1px rgba(0, 0, 0, 0.2)\";\nconst theme = {\n  overrides: {\n    MuiCard: {\n      root: {\n        \"&.MuiElevatedCard--01\": {\n          marginTop: offset,\n          borderRadius: muiBaseTheme.spacing.unit / 2,\n          transition: \"0.3s\",\n          boxShadow: cardShadow,\n          position: \"relative\",\n          width: \"90%\",\n          overflow: \"initial\",\n          background: \"#ffffff\",\n          padding: `${muiBaseTheme.spacing.unit * 2}px 0`,\n          \"& .MuiCardHeader-root\": {\n            flexShrink: 0,\n            position: \"absolute\",\n            top: -offset,\n            right: 20,\n            left: 20,\n            borderRadius: muiBaseTheme.spacing.unit / 2,\n            backgroundColor: purple[500],\n            overflow: \"hidden\",\n            boxShadow: headerShadow,\n            textAlign: \"left\",\n            \"& .MuiCardHeader-title\": {\n              color: \"#ffffff\",\n              fontWeight: 900,\n              letterSpacing: 1\n            },\n            \"& .MuiCardHeader-subheader\": {\n              color: \"#ffffff\",\n              opacity: 0.87,\n              fontWeight: 200,\n              letterSpacing: 0.4\n            }\n          },\n          \"& .MuiCardContent-root\": {\n            textAlign: \"left\",\n            \"& .MuiCardContent-inner\": {\n              paddingTop: \"38px\",\n              overflowX: \"auto\"\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nconst OrderPreview = props => {\n  const {\n    data\n  } = props; // const classes = useStyles();\n\n  return /*#__PURE__*/React.createElement(JssProvider, {\n    generateClassName: generateClassName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.TopPadding,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"MuiElevatedCard--01\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"MuiCardHeader-root\",\n    title: \"Desserts\",\n    subheader: \"Select your favourite\",\n    classes: {\n      title: \"MuiCardHeader-title\",\n      subheader: \"MuiCardHeader-subheader\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    className: \"MuiCardContent-root\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"MuiCardContent-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"customized table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, \"Dessert\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, data !== null ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }, data.order_items.map(order_item => {\n    return /*#__PURE__*/React.createElement(StyledTableRow, {\n      key: order_item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(StyledTableCell, {\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 33\n      }\n    }, order_item.item.title), /*#__PURE__*/React.createElement(StyledTableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 33\n      }\n    }, order_item.quantity), /*#__PURE__*/React.createElement(StyledTableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 33\n      }\n    }, order_item.final_price));\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, \"No Item in your cart\"))))))))));\n}; // class CouponForm extends Component {\n//   state = {\n//     code: \"\"\n//   };\n//   handleChange = e => {\n//     this.setState({\n//       code: e.target.value\n//     });\n// //   };\n//   handleSubmit = e => {\n//     const { code } = this.state;\n//     this.props.handleAddCoupon(e, code);\n//     this.setState({ code: \"\" });\n//   };\n//   render() {\n//     const { code } = this.state;\n//     return (\n//       <React.Fragment>\n//         <Container>\n//           <Form onSubmit={this.handleSubmit}>\n//             <Form.Field>\n//               <label>Coupon code</label>\n//               <input\n//                 placeholder=\"Enter a coupon..\"\n//                 value={code}\n//                 onChange={this.handleChange}\n//               />\n//             </Form.Field>\n//             <Button type=\"submit\">Submit</Button>\n//           </Form>\n//         </Container>\n//       </React.Fragment>\n//     );\n//   }\n// }\n\n\nclass CheckoutForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: null,\n      loading: false,\n      error: null,\n      success: false,\n      shippingAddresses: [],\n      billingAddresses: [],\n      selectedBillingAddress: \"\",\n      selectedShippingAddress: \"\",\n      shop: \"\",\n      place: \"\",\n      mode_of_payment: \"\"\n    };\n\n    this.handleGetDefaultAddress = addresses => {\n      const filteredAddresses = addresses.filter(el => el.default === true);\n\n      if (filteredAddresses.length > 0) {\n        return filteredAddresses[0].id;\n      }\n\n      return \"\";\n    };\n\n    this.handleFetchBillingAddresses = () => {\n      this.setState({\n        loading: true\n      });\n      authAxios.get(addressListURL(\"B\")).then(res => {\n        this.setState({\n          billingAddresses: res.data.map(a => {\n            return {\n              key: a.id,\n              text: `${a.place}, ${a.area}, ${a.road_name}`,\n              value: a.id\n            };\n          }),\n          selectedBillingAddress: this.handleGetDefaultAddress(res.data),\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n\n    this.handleFetchShippingAddresses = () => {\n      this.setState({\n        loading: true\n      });\n      authAxios.get(addressListURL(\"S\")).then(res => {\n        this.setState({\n          shippingAddresses: res.data.map(a => {\n            return {\n              key: a.id,\n              text: `${a.place}, ${a.area}, ${a.road_name}`,\n              value: a.id\n            };\n          }),\n          selectedShippingAddress: this.handleGetDefaultAddress(res.data),\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n\n    this.handleFetchOrder = () => {\n      this.setState({\n        loading: true\n      });\n      authAxios.get(orderSummaryURL).then(res => {\n        this.setState({\n          data: res.data,\n          loading: false\n        });\n      }).catch(err => {\n        if (err.response.status === 404) {\n          this.props.history.push(\"/dashboard\");\n        } else {\n          this.setState({\n            error: err,\n            loading: false\n          });\n        }\n      });\n    };\n\n    this.handleAddCoupon = (e, code) => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      authAxios.post(addCouponURL, {\n        code\n      }).then(res => {\n        this.setState({\n          loading: false\n        });\n        this.handleFetchOrder();\n      }).catch(err => {\n        this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n\n    this.handleSelectChange = (e, {\n      name,\n      value\n    }) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submit = ev => {\n      ev.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const {\n        selectedBillingAddress,\n        selectedShippingAddress,\n        mode_of_payment\n      } = this.state;\n      authAxios.post(checkoutURL, {\n        selectedBillingAddress,\n        selectedShippingAddress,\n        mode_of_payment\n      }).then(res => {\n        this.setState({\n          loading: false,\n          success: true\n        });\n      }).catch(err => {\n        this.setState({\n          loading: false,\n          error: err\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.handleFetchOrder();\n    this.handleFetchBillingAddresses();\n    this.handleFetchShippingAddresses();\n  }\n\n  render() {\n    const {\n      data,\n      error,\n      loading,\n      success,\n      billingAddresses,\n      shippingAddresses,\n      selectedBillingAddress,\n      selectedShippingAddress,\n      mode_of_payment\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }\n    }, error && /*#__PURE__*/React.createElement(Message, {\n      error: true,\n      header: \"There was some errors with your submission\",\n      content: JSON.stringify(error),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 13\n      }\n    }), loading && /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dimmer, {\n      active: true,\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }\n    }, \"Loading\")), /*#__PURE__*/React.createElement(Image, {\n      src: \"/images/wireframe/short-paragraph.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(OrderPreview, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 11\n      }\n    }, \"Select a shipping address\"), shippingAddresses.length > 0 ? /*#__PURE__*/React.createElement(Select, {\n      name: \"selectedShippingAddress\",\n      value: selectedShippingAddress,\n      clearable: true,\n      options: shippingAddresses,\n      selection: true,\n      onChange: this.handleSelectChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 13\n      }\n    }, \"You need to \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 27\n      }\n    }, \"add an address\")), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 11\n      }\n    }, \"Select a payment method\"), /*#__PURE__*/React.createElement(Form.Field, {\n      control: Radio,\n      label: \"Cash on Delivery\",\n      name: \"mode_of_payment\",\n      value: \"Cash on Delivery\" // checked={value === \"Cash on Delivery\"}\n      ,\n      onChange: this.handleSelectChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Form.Field, {\n      control: Radio,\n      label: \"Kadam\",\n      name: \"mode_of_payment\",\n      value: \"Kadam\" // checked={value === \"Kadam\"}\n      ,\n      onChange: this.handleSelectChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }\n    }), shippingAddresses.length < 1 ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 13\n      }\n    }, \"You need to add an addresse to complete your purchase\") : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 15\n      }\n    }, \"confirm the purchase?\"), success && /*#__PURE__*/React.createElement(Message, {\n      positive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 19\n      }\n    }, \"Your Order is successful\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 19\n      }\n    }, \"Go to your \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 32\n      }\n    }, \"profile\"), \" to see the order delivery status.\")), /*#__PURE__*/React.createElement(Button, {\n      loading: loading,\n      disabled: loading,\n      primary: true,\n      onClick: this.submit,\n      style: {\n        marginTop: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 15\n      }\n    }, \"Submit\"))));\n  }\n\n}\n\nexport default CheckoutForm;","map":{"version":3,"sources":["/Users/swalihvpm/Desktop/django-react/django-react-ecommerce/src/components/OrderSummary/OrderSummary.js"],"names":["React","Component","Button","Container","Dimmer","Divider","Form","Header","Image","Item","Label","Loader","Message","Segment","Select","Radio","Card","CardContent","CardHeader","purple","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","makeStyles","withStyles","JssProvider","createGenerateClassName","MuiThemeProvider","createMuiTheme","Link","withRouter","authAxios","checkoutURL","orderSummaryURL","addCouponURL","addressListURL","muiBaseTheme","generateClassName","dangerouslyUseGlobalCSS","offset","cardShadow","headerShadow","theme","overrides","MuiCard","root","marginTop","borderRadius","spacing","unit","transition","boxShadow","position","width","overflow","background","padding","flexShrink","top","right","left","backgroundColor","textAlign","color","fontWeight","letterSpacing","opacity","paddingTop","overflowX","OrderPreview","props","data","classes","TopPadding","title","subheader","table","order_items","map","order_item","id","item","quantity","final_price","CheckoutForm","state","loading","error","success","shippingAddresses","billingAddresses","selectedBillingAddress","selectedShippingAddress","shop","place","mode_of_payment","handleGetDefaultAddress","addresses","filteredAddresses","filter","el","default","length","handleFetchBillingAddresses","setState","get","then","res","a","key","text","area","road_name","value","catch","err","handleFetchShippingAddresses","handleFetchOrder","response","status","history","push","handleAddCoupon","e","code","preventDefault","post","handleSelectChange","name","submit","ev","componentDidMount","render","JSON","stringify"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,MADF,EAEEC,SAFF,EAGEC,MAHF,EAIEC,OAJF,EAKEC,IALF,EAMEC,MANF,EAOEC,KAPF,EAQEC,IARF,EASEC,KATF,EAUEC,MAVF,EAWEC,OAXF,EAYEC,OAZF,EAaEC,MAbF,EAcEC,KAdF,QAeO,mBAfP;AAiBA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB,C,CACA;AACA;AACA;;AACA,OAAOC,UAAP,MAAuB,8BAAvB,C,CACA;AACA;;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,uBAAT,QAAwC,0BAAxC;AACA,SAASC,gBAAT,EAA2BC,cAA3B,QAAiD,0BAAjD,C,CACA;;AAEA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SACEC,WADF,EAEEC,eAFF,EAGEC,YAHF,EAIEC,cAJF,QAKO,iBALP;AAOA,MAAMC,YAAY,GAAGR,cAAc,EAAnC;AAEA,MAAMS,iBAAiB,GAAGX,uBAAuB,CAAC;AAChDY,EAAAA,uBAAuB,EAAE;AADuB,CAAD,CAAjD,C,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,MAAM,GAAG,EAAf;AACA,MAAMC,UAAU,GAAG,qCAAnB;AACA,MAAMC,YAAY,GAAG,qCAArB;AACA,MAAMC,KAAK,GAAG;AACZC,EAAAA,SAAS,EAAE;AACTC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE;AACJ,iCAAyB;AACvBC,UAAAA,SAAS,EAAEP,MADY;AAEvBQ,UAAAA,YAAY,EAAEX,YAAY,CAACY,OAAb,CAAqBC,IAArB,GAA4B,CAFnB;AAGvBC,UAAAA,UAAU,EAAE,MAHW;AAIvBC,UAAAA,SAAS,EAAEX,UAJY;AAKvBY,UAAAA,QAAQ,EAAE,UALa;AAMvBC,UAAAA,KAAK,EAAE,KANgB;AAOvBC,UAAAA,QAAQ,EAAE,SAPa;AAQvBC,UAAAA,UAAU,EAAE,SARW;AASvBC,UAAAA,OAAO,EAAG,GAAEpB,YAAY,CAACY,OAAb,CAAqBC,IAArB,GAA4B,CAAE,MATnB;AAUvB,mCAAyB;AACvBQ,YAAAA,UAAU,EAAE,CADW;AAEvBL,YAAAA,QAAQ,EAAE,UAFa;AAGvBM,YAAAA,GAAG,EAAE,CAACnB,MAHiB;AAIvBoB,YAAAA,KAAK,EAAE,EAJgB;AAKvBC,YAAAA,IAAI,EAAE,EALiB;AAMvBb,YAAAA,YAAY,EAAEX,YAAY,CAACY,OAAb,CAAqBC,IAArB,GAA4B,CANnB;AAOvBY,YAAAA,eAAe,EAAE9C,MAAM,CAAC,GAAD,CAPA;AAQvBuC,YAAAA,QAAQ,EAAE,QARa;AASvBH,YAAAA,SAAS,EAAEV,YATY;AAUvBqB,YAAAA,SAAS,EAAE,MAVY;AAWvB,sCAA0B;AACxBC,cAAAA,KAAK,EAAE,SADiB;AAExBC,cAAAA,UAAU,EAAE,GAFY;AAGxBC,cAAAA,aAAa,EAAE;AAHS,aAXH;AAgBvB,0CAA8B;AAC5BF,cAAAA,KAAK,EAAE,SADqB;AAE5BG,cAAAA,OAAO,EAAE,IAFmB;AAG5BF,cAAAA,UAAU,EAAE,GAHgB;AAI5BC,cAAAA,aAAa,EAAE;AAJa;AAhBP,WAVF;AAiCvB,oCAA0B;AACxBH,YAAAA,SAAS,EAAE,MADa;AAExB,uCAA2B;AACzBK,cAAAA,UAAU,EAAE,MADa;AAEzBC,cAAAA,SAAS,EAAE;AAFc;AAFH;AAjCH;AADrB;AADC;AADA;AADC,CAAd;;AAkDA,MAAMC,YAAY,GAAGC,KAAK,IAAI;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAWD,KAAjB,CAD4B,CAE5B;;AAEA,sBACE,oBAAC,WAAD;AAAa,IAAA,iBAAiB,EAAEjC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEmC,OAAO,CAACC,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAE,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAE,oBADb;AAEE,IAAA,KAAK,EAAE,UAFT;AAGE,IAAA,SAAS,EAAE,uBAHb;AAIE,IAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE,qBADA;AAEPC,MAAAA,SAAS,EAAE;AAFJ,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAUE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAE,qBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,SAAS,EAAEH,OAAO,CAACI,KADrB;AAEE,kBAAW,kBAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,CAJF,eAcE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,IAAI,KAAK,IAAT,gBACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,IAAI,CAACM,WAAL,CAAiBC,GAAjB,CAAqBC,UAAU,IAAI;AAClC,wBACE,oBAAC,cAAD;AAAgB,MAAA,GAAG,EAAEA,UAAU,CAACC,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,eAAD;AAAiB,MAAA,KAAK,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,UAAU,CAACE,IAAX,CAAgBP,KADnB,CADF,eAIE,oBAAC,eAAD;AAAiB,MAAA,KAAK,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGK,UAAU,CAACG,QADd,CAJF,eAOE,oBAAC,eAAD;AAAiB,MAAA,KAAK,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGH,UAAU,CAACI,WADd,CAPF,CADF;AAaD,GAdA,CADH,CADD,gBAmBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BApBJ,CAdF,CADF,CADF,CAVF,CAFF,CADF,CADF,CADF,CADF;AAiED,CArED,C,CAuEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMC,YAAN,SAA2BvF,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCwF,KADmC,GAC3B;AACNd,MAAAA,IAAI,EAAE,IADA;AAENe,MAAAA,OAAO,EAAE,KAFH;AAGNC,MAAAA,KAAK,EAAE,IAHD;AAINC,MAAAA,OAAO,EAAE,KAJH;AAKNC,MAAAA,iBAAiB,EAAE,EALb;AAMNC,MAAAA,gBAAgB,EAAE,EANZ;AAONC,MAAAA,sBAAsB,EAAE,EAPlB;AAQNC,MAAAA,uBAAuB,EAAE,EARnB;AASNC,MAAAA,IAAI,EAAE,EATA;AAUNC,MAAAA,KAAK,EAAE,EAVD;AAWNC,MAAAA,eAAe,EAAE;AAXX,KAD2B;;AAAA,SAqBnCC,uBArBmC,GAqBTC,SAAS,IAAI;AACrC,YAAMC,iBAAiB,GAAGD,SAAS,CAACE,MAAV,CAAiBC,EAAE,IAAIA,EAAE,CAACC,OAAH,KAAe,IAAtC,CAA1B;;AACA,UAAIH,iBAAiB,CAACI,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,eAAOJ,iBAAiB,CAAC,CAAD,CAAjB,CAAqBlB,EAA5B;AACD;;AACD,aAAO,EAAP;AACD,KA3BkC;;AAAA,SA6BnCuB,2BA7BmC,GA6BL,MAAM;AAClC,WAAKC,QAAL,CAAc;AAAElB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACAvD,MAAAA,SAAS,CACN0E,GADH,CACOtE,cAAc,CAAC,GAAD,CADrB,EAEGuE,IAFH,CAEQC,GAAG,IAAI;AACX,aAAKH,QAAL,CAAc;AACZd,UAAAA,gBAAgB,EAAEiB,GAAG,CAACpC,IAAJ,CAASO,GAAT,CAAa8B,CAAC,IAAI;AAClC,mBAAO;AACLC,cAAAA,GAAG,EAAED,CAAC,CAAC5B,EADF;AAEL8B,cAAAA,IAAI,EAAG,GAAEF,CAAC,CAACd,KAAM,KAAIc,CAAC,CAACG,IAAK,KAAIH,CAAC,CAACI,SAAU,EAFvC;AAGLC,cAAAA,KAAK,EAAEL,CAAC,CAAC5B;AAHJ,aAAP;AAKD,WANiB,CADN;AAQZW,UAAAA,sBAAsB,EAAE,KAAKK,uBAAL,CAA6BW,GAAG,CAACpC,IAAjC,CARZ;AASZe,UAAAA,OAAO,EAAE;AATG,SAAd;AAWD,OAdH,EAeG4B,KAfH,CAeSC,GAAG,IAAI;AACZ,aAAKX,QAAL,CAAc;AAAEjB,UAAAA,KAAK,EAAE4B,GAAT;AAAc7B,UAAAA,OAAO,EAAE;AAAvB,SAAd;AACD,OAjBH;AAkBD,KAjDkC;;AAAA,SAmDnC8B,4BAnDmC,GAmDJ,MAAM;AACnC,WAAKZ,QAAL,CAAc;AAAElB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACAvD,MAAAA,SAAS,CACN0E,GADH,CACOtE,cAAc,CAAC,GAAD,CADrB,EAEGuE,IAFH,CAEQC,GAAG,IAAI;AACX,aAAKH,QAAL,CAAc;AACZf,UAAAA,iBAAiB,EAAEkB,GAAG,CAACpC,IAAJ,CAASO,GAAT,CAAa8B,CAAC,IAAI;AACnC,mBAAO;AACLC,cAAAA,GAAG,EAAED,CAAC,CAAC5B,EADF;AAEL8B,cAAAA,IAAI,EAAG,GAAEF,CAAC,CAACd,KAAM,KAAIc,CAAC,CAACG,IAAK,KAAIH,CAAC,CAACI,SAAU,EAFvC;AAGLC,cAAAA,KAAK,EAAEL,CAAC,CAAC5B;AAHJ,aAAP;AAKD,WANkB,CADP;AAQZY,UAAAA,uBAAuB,EAAE,KAAKI,uBAAL,CAA6BW,GAAG,CAACpC,IAAjC,CARb;AAUZe,UAAAA,OAAO,EAAE;AAVG,SAAd;AAYD,OAfH,EAgBG4B,KAhBH,CAgBSC,GAAG,IAAI;AACZ,aAAKX,QAAL,CAAc;AAAEjB,UAAAA,KAAK,EAAE4B,GAAT;AAAc7B,UAAAA,OAAO,EAAE;AAAvB,SAAd;AACD,OAlBH;AAmBD,KAxEkC;;AAAA,SA0EnC+B,gBA1EmC,GA0EhB,MAAM;AACvB,WAAKb,QAAL,CAAc;AAAElB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACAvD,MAAAA,SAAS,CACN0E,GADH,CACOxE,eADP,EAEGyE,IAFH,CAEQC,GAAG,IAAI;AACX,aAAKH,QAAL,CAAc;AAAEjC,UAAAA,IAAI,EAAEoC,GAAG,CAACpC,IAAZ;AAAkBe,UAAAA,OAAO,EAAE;AAA3B,SAAd;AACD,OAJH,EAKG4B,KALH,CAKSC,GAAG,IAAI;AACZ,YAAIA,GAAG,CAACG,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/B,eAAKjD,KAAL,CAAWkD,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD,SAFD,MAEO;AACL,eAAKjB,QAAL,CAAc;AAAEjB,YAAAA,KAAK,EAAE4B,GAAT;AAAc7B,YAAAA,OAAO,EAAE;AAAvB,WAAd;AACD;AACF,OAXH;AAYD,KAxFkC;;AAAA,SA0FnCoC,eA1FmC,GA0FjB,CAACC,CAAD,EAAIC,IAAJ,KAAa;AAC7BD,MAAAA,CAAC,CAACE,cAAF;AACA,WAAKrB,QAAL,CAAc;AAAElB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACAvD,MAAAA,SAAS,CACN+F,IADH,CACQ5F,YADR,EACsB;AAAE0F,QAAAA;AAAF,OADtB,EAEGlB,IAFH,CAEQC,GAAG,IAAI;AACX,aAAKH,QAAL,CAAc;AAAElB,UAAAA,OAAO,EAAE;AAAX,SAAd;AACA,aAAK+B,gBAAL;AACD,OALH,EAMGH,KANH,CAMSC,GAAG,IAAI;AACZ,aAAKX,QAAL,CAAc;AAAEjB,UAAAA,KAAK,EAAE4B,GAAT;AAAc7B,UAAAA,OAAO,EAAE;AAAvB,SAAd;AACD,OARH;AASD,KAtGkC;;AAAA,SAwGnCyC,kBAxGmC,GAwGd,CAACJ,CAAD,EAAI;AAAEK,MAAAA,IAAF;AAAQf,MAAAA;AAAR,KAAJ,KAAwB;AAC3C,WAAKT,QAAL,CAAc;AAAE,SAACwB,IAAD,GAAQf;AAAV,OAAd;AACD,KA1GkC;;AAAA,SA4GnCgB,MA5GmC,GA4G1BC,EAAE,IAAI;AACbA,MAAAA,EAAE,CAACL,cAAH;AACA,WAAKrB,QAAL,CAAc;AAAElB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,YAAM;AACJK,QAAAA,sBADI;AAEJC,QAAAA,uBAFI;AAGJG,QAAAA;AAHI,UAIF,KAAKV,KAJT;AAKAtD,MAAAA,SAAS,CACN+F,IADH,CACQ9F,WADR,EACqB;AACjB2D,QAAAA,sBADiB;AAEjBC,QAAAA,uBAFiB;AAGjBG,QAAAA;AAHiB,OADrB,EAMGW,IANH,CAMQC,GAAG,IAAI;AACX,aAAKH,QAAL,CAAc;AAAElB,UAAAA,OAAO,EAAE,KAAX;AAAkBE,UAAAA,OAAO,EAAE;AAA3B,SAAd;AACD,OARH,EASG0B,KATH,CASSC,GAAG,IAAI;AACZ,aAAKX,QAAL,CAAc;AAAElB,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,KAAK,EAAE4B;AAAzB,SAAd;AACD,OAXH;AAYD,KAhIkC;AAAA;;AAenCgB,EAAAA,iBAAiB,GAAG;AAClB,SAAKd,gBAAL;AACA,SAAKd,2BAAL;AACA,SAAKa,4BAAL;AACD;;AA+GDgB,EAAAA,MAAM,GAAG;AACP,UAAM;AACJ7D,MAAAA,IADI;AAEJgB,MAAAA,KAFI;AAGJD,MAAAA,OAHI;AAIJE,MAAAA,OAJI;AAKJE,MAAAA,gBALI;AAMJD,MAAAA,iBANI;AAOJE,MAAAA,sBAPI;AAQJC,MAAAA,uBARI;AASJG,MAAAA;AATI,QAUF,KAAKV,KAVT;AAWA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,KAAK,iBACJ,oBAAC,OAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,MAAM,EAAC,4CAFT;AAGE,MAAA,OAAO,EAAE8C,IAAI,CAACC,SAAL,CAAe/C,KAAf,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAQGD,OAAO,iBACN,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,MAAM,MAAd;AAAe,MAAA,QAAQ,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,eAIE,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAC,uCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CATJ,eAgBE,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAEf,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,eAkBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAlBF,EAmBGkB,iBAAiB,CAACa,MAAlB,GAA2B,CAA3B,gBACC,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,yBADP;AAEE,MAAA,KAAK,EAAEV,uBAFT;AAGE,MAAA,SAAS,MAHX;AAIE,MAAA,OAAO,EAAEH,iBAJX;AAKE,MAAA,SAAS,MALX;AAME,MAAA,QAAQ,EAAE,KAAKsC,kBANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,gBAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCACc,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADd,CA7BJ,eAkCE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlCF,eAmCE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAnCF,eAoCE,oBAAC,IAAD,CAAM,KAAN;AACE,MAAA,OAAO,EAAEpH,KADX;AAEE,MAAA,KAAK,EAAC,kBAFR;AAGE,MAAA,IAAI,EAAC,iBAHP;AAIE,MAAA,KAAK,EAAC,kBAJR,CAKE;AALF;AAME,MAAA,QAAQ,EAAE,KAAKoH,kBANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApCF,eA4CE,oBAAC,IAAD,CAAM,KAAN;AACE,MAAA,OAAO,EAAEpH,KADX;AAEE,MAAA,KAAK,EAAC,OAFR;AAGE,MAAA,IAAI,EAAC,iBAHP;AAIE,MAAA,KAAK,EAAC,OAJR,CAKE;AALF;AAME,MAAA,QAAQ,EAAE,KAAKoH,kBANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5CF,eAoDE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApDF,EAsDGtC,iBAAiB,CAACa,MAAlB,GAA2B,CAA3B,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DADD,gBAGC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAGGd,OAAO,iBACN,oBAAC,OAAD;AAAS,MAAA,QAAQ,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD,CAAS,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADb,uCAFF,CAJJ,eAWE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAEF,OADX;AAEE,MAAA,QAAQ,EAAEA,OAFZ;AAGE,MAAA,OAAO,MAHT;AAIE,MAAA,OAAO,EAAE,KAAK2C,MAJhB;AAKE,MAAA,KAAK,EAAE;AAAEnF,QAAAA,SAAS,EAAE;AAAb,OALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,CAzDJ,CADF,CADF;AAoFD;;AAlOkC;;AAqOrC,eAAesC,YAAf","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Container,\n  Dimmer,\n  Divider,\n  Form,\n  Header,\n  Image,\n  Item,\n  Label,\n  Loader,\n  Message,\n  Segment,\n  Select,\n  Radio\n} from \"semantic-ui-react\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\n// import Table from \"@material-ui/core/Table\";\n// import TableHead from \"@material-ui/core/TableHead\";\n// import TableRow from \"@material-ui/core/TableRow\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\n// import TableBody from \"@material-ui/core/TableBody\";\n// import TableCell from \"@material-ui/core/TableCell\";\nimport purple from \"@material-ui/core/colors/purple\";\n\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport JssProvider from \"react-jss/lib/JssProvider\";\nimport { createGenerateClassName } from \"@material-ui/core/styles\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n// import Component from \"./Component\";\n\nimport { Link, withRouter } from \"react-router-dom\";\nimport { authAxios } from \"../../utils\";\nimport {\n  checkoutURL,\n  orderSummaryURL,\n  addCouponURL,\n  addressListURL\n} from \"../../constants\";\n\nconst muiBaseTheme = createMuiTheme();\n\nconst generateClassName = createGenerateClassName({\n  dangerouslyUseGlobalCSS: true\n});\n\n// const StyledTableCell = withStyles(theme => ({\n//   head: {\n//     backgroundColor: theme.palette.common.black,\n//     color: theme.palette.common.white\n//   },\n//   body: {\n//     fontSize: 14\n//   }\n// }))(TableCell);\n\n// const StyledTableRow = withStyles(theme => ({\n//   root: {\n//     \"&:nth-of-type(odd)\": {\n//       backgroundColor: theme.palette.action.hover\n//     }\n//   }\n// }))(TableRow);\n\n// const useStyles = makeStyles(theme => ({\n//   root: {\n//     display: \"flex\"\n//   },\n//   table: {\n//     minWidth: 200\n//   },\n//   TopPadding: {\n//     padding: \"3px\",\n//     margin: \"1px\"\n//   }\n// }));\n\nconst offset = 40;\nconst cardShadow = \"0px 14px 80px rgba(34, 35, 58, 0.2)\";\nconst headerShadow = \"4px 4px 20px 1px rgba(0, 0, 0, 0.2)\";\nconst theme = {\n  overrides: {\n    MuiCard: {\n      root: {\n        \"&.MuiElevatedCard--01\": {\n          marginTop: offset,\n          borderRadius: muiBaseTheme.spacing.unit / 2,\n          transition: \"0.3s\",\n          boxShadow: cardShadow,\n          position: \"relative\",\n          width: \"90%\",\n          overflow: \"initial\",\n          background: \"#ffffff\",\n          padding: `${muiBaseTheme.spacing.unit * 2}px 0`,\n          \"& .MuiCardHeader-root\": {\n            flexShrink: 0,\n            position: \"absolute\",\n            top: -offset,\n            right: 20,\n            left: 20,\n            borderRadius: muiBaseTheme.spacing.unit / 2,\n            backgroundColor: purple[500],\n            overflow: \"hidden\",\n            boxShadow: headerShadow,\n            textAlign: \"left\",\n            \"& .MuiCardHeader-title\": {\n              color: \"#ffffff\",\n              fontWeight: 900,\n              letterSpacing: 1\n            },\n            \"& .MuiCardHeader-subheader\": {\n              color: \"#ffffff\",\n              opacity: 0.87,\n              fontWeight: 200,\n              letterSpacing: 0.4\n            }\n          },\n          \"& .MuiCardContent-root\": {\n            textAlign: \"left\",\n            \"& .MuiCardContent-inner\": {\n              paddingTop: \"38px\",\n              overflowX: \"auto\"\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nconst OrderPreview = props => {\n  const { data } = props;\n  // const classes = useStyles();\n\n  return (\n    <JssProvider generateClassName={generateClassName}>\n      <MuiThemeProvider>\n        <React.Fragment>\n          <div className={classes.TopPadding}>\n            {/* <TableContainer component={Paper}> */}\n            <Card className={\"MuiElevatedCard--01\"}>\n              <CardHeader\n                className={\"MuiCardHeader-root\"}\n                title={\"Desserts\"}\n                subheader={\"Select your favourite\"}\n                classes={{\n                  title: \"MuiCardHeader-title\",\n                  subheader: \"MuiCardHeader-subheader\"\n                }}\n              />\n              <CardContent className={\"MuiCardContent-root\"}>\n                <div className={\"MuiCardContent-inner\"}>\n                  <Table\n                    className={classes.table}\n                    aria-label=\"customized table\"\n                  >\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>Dessert</TableCell>\n                        {/* <StyledTableCell align=\"left\">Item</StyledTableCell>\n                        <StyledTableCell align=\"right\">\n                          Quantity\n                        </StyledTableCell>\n                        <StyledTableCell align=\"right\">Price</StyledTableCell> */}\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {data !== null ? (\n                        <React.Fragment>\n                          {data.order_items.map(order_item => {\n                            return (\n                              <StyledTableRow key={order_item.id}>\n                                <StyledTableCell align=\"left\">\n                                  {order_item.item.title}\n                                </StyledTableCell>\n                                <StyledTableCell align=\"right\">\n                                  {order_item.quantity}\n                                </StyledTableCell>\n                                <StyledTableCell align=\"right\">\n                                  {order_item.final_price}\n                                </StyledTableCell>\n                              </StyledTableRow>\n                            );\n                          })}\n                        </React.Fragment>\n                      ) : (\n                        <div>No Item in your cart</div>\n                      )}\n                    </TableBody>\n                  </Table>\n                  {/* </TableContainer> */}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </React.Fragment>\n      </MuiThemeProvider>\n    </JssProvider>\n  );\n};\n\n// class CouponForm extends Component {\n//   state = {\n//     code: \"\"\n//   };\n\n//   handleChange = e => {\n//     this.setState({\n//       code: e.target.value\n//     });\n// //   };\n\n//   handleSubmit = e => {\n//     const { code } = this.state;\n//     this.props.handleAddCoupon(e, code);\n//     this.setState({ code: \"\" });\n//   };\n\n//   render() {\n//     const { code } = this.state;\n//     return (\n//       <React.Fragment>\n//         <Container>\n//           <Form onSubmit={this.handleSubmit}>\n//             <Form.Field>\n//               <label>Coupon code</label>\n//               <input\n//                 placeholder=\"Enter a coupon..\"\n//                 value={code}\n//                 onChange={this.handleChange}\n//               />\n//             </Form.Field>\n//             <Button type=\"submit\">Submit</Button>\n//           </Form>\n//         </Container>\n//       </React.Fragment>\n//     );\n//   }\n// }\n\nclass CheckoutForm extends Component {\n  state = {\n    data: null,\n    loading: false,\n    error: null,\n    success: false,\n    shippingAddresses: [],\n    billingAddresses: [],\n    selectedBillingAddress: \"\",\n    selectedShippingAddress: \"\",\n    shop: \"\",\n    place: \"\",\n    mode_of_payment: \"\"\n  };\n\n  componentDidMount() {\n    this.handleFetchOrder();\n    this.handleFetchBillingAddresses();\n    this.handleFetchShippingAddresses();\n  }\n\n  handleGetDefaultAddress = addresses => {\n    const filteredAddresses = addresses.filter(el => el.default === true);\n    if (filteredAddresses.length > 0) {\n      return filteredAddresses[0].id;\n    }\n    return \"\";\n  };\n\n  handleFetchBillingAddresses = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(addressListURL(\"B\"))\n      .then(res => {\n        this.setState({\n          billingAddresses: res.data.map(a => {\n            return {\n              key: a.id,\n              text: `${a.place}, ${a.area}, ${a.road_name}`,\n              value: a.id\n            };\n          }),\n          selectedBillingAddress: this.handleGetDefaultAddress(res.data),\n          loading: false\n        });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleFetchShippingAddresses = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(addressListURL(\"S\"))\n      .then(res => {\n        this.setState({\n          shippingAddresses: res.data.map(a => {\n            return {\n              key: a.id,\n              text: `${a.place}, ${a.area}, ${a.road_name}`,\n              value: a.id\n            };\n          }),\n          selectedShippingAddress: this.handleGetDefaultAddress(res.data),\n\n          loading: false\n        });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleFetchOrder = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(orderSummaryURL)\n      .then(res => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.props.history.push(\"/dashboard\");\n        } else {\n          this.setState({ error: err, loading: false });\n        }\n      });\n  };\n\n  handleAddCoupon = (e, code) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    authAxios\n      .post(addCouponURL, { code })\n      .then(res => {\n        this.setState({ loading: false });\n        this.handleFetchOrder();\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleSelectChange = (e, { name, value }) => {\n    this.setState({ [name]: value });\n  };\n\n  submit = ev => {\n    ev.preventDefault();\n    this.setState({ loading: true });\n    const {\n      selectedBillingAddress,\n      selectedShippingAddress,\n      mode_of_payment\n    } = this.state;\n    authAxios\n      .post(checkoutURL, {\n        selectedBillingAddress,\n        selectedShippingAddress,\n        mode_of_payment\n      })\n      .then(res => {\n        this.setState({ loading: false, success: true });\n      })\n      .catch(err => {\n        this.setState({ loading: false, error: err });\n      });\n  };\n\n  render() {\n    const {\n      data,\n      error,\n      loading,\n      success,\n      billingAddresses,\n      shippingAddresses,\n      selectedBillingAddress,\n      selectedShippingAddress,\n      mode_of_payment\n    } = this.state;\n    return (\n      <div>\n        <Container>\n          {error && (\n            <Message\n              error\n              header=\"There was some errors with your submission\"\n              content={JSON.stringify(error)}\n            />\n          )}\n          {loading && (\n            <Segment>\n              <Dimmer active inverted>\n                <Loader inverted>Loading</Loader>\n              </Dimmer>\n              <Image src=\"/images/wireframe/short-paragraph.png\" />\n            </Segment>\n          )}\n          <OrderPreview data={data} />\n\n          <Header>Select a shipping address</Header>\n          {shippingAddresses.length > 0 ? (\n            <Select\n              name=\"selectedShippingAddress\"\n              value={selectedShippingAddress}\n              clearable\n              options={shippingAddresses}\n              selection\n              onChange={this.handleSelectChange}\n            />\n          ) : (\n            <p>\n              You need to <Link to=\"/profile\">add an address</Link>\n            </p>\n          )}\n\n          <Divider />\n          <Header>Select a payment method</Header>\n          <Form.Field\n            control={Radio}\n            label=\"Cash on Delivery\"\n            name=\"mode_of_payment\"\n            value=\"Cash on Delivery\"\n            // checked={value === \"Cash on Delivery\"}\n            onChange={this.handleSelectChange}\n          />\n          <Form.Field\n            control={Radio}\n            label=\"Kadam\"\n            name=\"mode_of_payment\"\n            value=\"Kadam\"\n            // checked={value === \"Kadam\"}\n            onChange={this.handleSelectChange}\n          />\n          <Divider />\n          {/* {billingAddresses.length < 1 || shippingAddresses.length < 1 ? ( */}\n          {shippingAddresses.length < 1 ? (\n            <p>You need to add an addresse to complete your purchase</p>\n          ) : (\n            <React.Fragment>\n              <Header>confirm the purchase?</Header>\n              {/* <CardElement /> */}\n              {success && (\n                <Message positive>\n                  <Message.Header>Your Order is successful</Message.Header>\n                  <p>\n                    Go to your <b>profile</b> to see the order delivery status.\n                  </p>\n                </Message>\n              )}\n              <Button\n                loading={loading}\n                disabled={loading}\n                primary\n                onClick={this.submit}\n                style={{ marginTop: \"10px\" }}\n              >\n                Submit\n              </Button>\n            </React.Fragment>\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default CheckoutForm;\n"]},"metadata":{},"sourceType":"module"}